{"ast":null,"code":"import { Estados } from 'src/app/models/Enum';\nimport * as M from 'materialize-css';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared/services/generic-service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../../shared/navbar/navbar.component\";\nimport * as i6 from \"../../../shared/filter/filter.component\";\n\nfunction SolicitudAdminComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\")(15, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function SolicitudAdminComponent_tr_23_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const solicitud_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.traerSolicitud(solicitud_r4.id));\n    });\n    i0.ɵɵelementStart(16, \"i\", 14);\n    i0.ɵɵtext(17, \"mode_edit\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"td\")(19, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function SolicitudAdminComponent_tr_23_Template_button_click_19_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const solicitud_r4 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.showDocumento(solicitud_r4.documentos));\n    });\n    i0.ɵɵelementStart(20, \"i\", 14);\n    i0.ɵɵtext(21, \"details\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const solicitud_r4 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 6, solicitud_r4.solicitudCode));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 8, solicitud_r4.creada));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 10, solicitud_r4.modificada));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", solicitud_r4.estudiante.nombres, \" \", solicitud_r4.estudiante.apellidos, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.estado[solicitud_r4.estado]);\n  }\n}\n\nfunction SolicitudAdminComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"h6\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 16)(5, \"select\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function SolicitudAdminComponent_div_24_Template_select_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.solicitudAEditar.estado = $event);\n    });\n    i0.ɵɵelementStart(6, \"option\", 18);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"option\", 18);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"option\", 18);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"option\", 18);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"option\", 18);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Editando \", i0.ɵɵpipeBind1(3, 12, ctx_r1.solicitudAEditar.solicitudCode), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.solicitudAEditar.estado);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.estado[0]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.estado[1]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.estado[2]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", 3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.estado[3]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", 4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.estado[4]);\n  }\n}\n\nfunction SolicitudAdminComponent_button_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function SolicitudAdminComponent_button_26_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.actualizarSolicitud(ctx_r10.solicitudAEditar.id));\n    });\n    i0.ɵɵelementStart(1, \"i\", 14);\n    i0.ɵɵtext(2, \"done\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction SolicitudAdminComponent_tr_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const documento_r12 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(documento_r12.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(documento_r12.descripcion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(documento_r12.institucion.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(documento_r12.nivel.nombre);\n  }\n}\n\nconst _c0 = function () {\n  return [\"/admin/solicitud\"];\n};\n\nexport let SolicitudAdminComponent = /*#__PURE__*/(() => {\n  class SolicitudAdminComponent {\n    constructor(genericService) {\n      this.genericService = genericService;\n      this.pagename = \"Gestión de solicitudes\";\n      this.componentUrl = \"solicitud/\";\n      this.searchUrl = \"solicitud/buscar/\";\n      this.estado = Estados;\n      this.editMode = false;\n    }\n\n    ngOnInit() {\n      this.getSolicitudes();\n      M.AutoInit();\n    }\n\n    getSolicitudes() {\n      this.genericService.getAll(this.componentUrl, solicitudes => {\n        this.solicitudes = solicitudes;\n      });\n    } //Método para búsqueda\n\n\n    filtrar(criteria) {\n      this.genericService.buscar(this.searchUrl, {\n        criteria\n      }, res => {\n        this.solicitudes = res;\n      });\n    }\n\n    showDocumento(documentos) {\n      this.documentosSolicitados = documentos;\n      console.log(this.documentosSolicitados);\n      var elem = document.querySelector('.modal');\n      var modal = M.Modal.getInstance(elem);\n      modal.open();\n    }\n\n    traerSolicitud(solicitudId) {\n      this.genericService.getById(this.componentUrl, solicitudId, solicitud => {\n        this.editMode = !this.editMode;\n        this.solicitudAEditar = solicitud;\n        console.log(this.solicitudAEditar);\n      });\n    }\n\n    actualizarSolicitud(solicitudId) {\n      this.genericService.actualizar(this.componentUrl, solicitudId, {\n        estado: this.solicitudAEditar.estado\n      }, () => {\n        console.log(this.solicitudAEditar);\n        this.editMode = false;\n        this.getSolicitudes();\n      });\n    }\n\n  }\n\n  SolicitudAdminComponent.ɵfac = function SolicitudAdminComponent_Factory(t) {\n    return new (t || SolicitudAdminComponent)(i0.ɵɵdirectiveInject(i1.GenericService));\n  };\n\n  SolicitudAdminComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SolicitudAdminComponent,\n    selectors: [[\"app-solicitud-admin\"]],\n    decls: 47,\n    vars: 7,\n    consts: [[3, \"pagename\"], [1, \"container\"], [1, \"row\"], [3, \"searchCriteria\"], [1, \"col\", \"m12\"], [1, \"highlight\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"row\", 4, \"ngIf\"], [\"class\", \"btn-floating btn-large light-blue right\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"modal\", 1, \"modal\"], [1, \"modal-content\"], [1, \"modal-footer\"], [1, \"modal-close\", \"btn\", \"light-blue\", 3, \"routerLink\"], [1, \"btn\", \"btn-small\", \"light-blue\", \"right\", 3, \"click\"], [1, \"material-icons\"], [1, \"btn\", \"btn-small\", \"light-blue\", 3, \"click\"], [1, \"input-field\", \"col\", \"m12\"], [\"name\", \"estado\", 1, \"browser-default\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\"], [1, \"btn-floating\", \"btn-large\", \"light-blue\", \"right\", 3, \"click\"]],\n    template: function SolicitudAdminComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-navbar\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"app-filter\", 3);\n        i0.ɵɵlistener(\"searchCriteria\", function SolicitudAdminComponent_Template_app_filter_searchCriteria_3_listener($event) {\n          return ctx.filtrar($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 4)(6, \"table\", 5)(7, \"thead\")(8, \"tr\")(9, \"th\");\n        i0.ɵɵtext(10, \"C\\u00F3digo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"th\");\n        i0.ɵɵtext(12, \"Creada\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"th\");\n        i0.ɵɵtext(14, \"Modificada\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"th\");\n        i0.ɵɵtext(16, \"Estudiante\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"th\");\n        i0.ɵɵtext(18, \"Estado\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"th\");\n        i0.ɵɵtext(20, \"Opciones\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"th\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"tbody\");\n        i0.ɵɵtemplate(23, SolicitudAdminComponent_tr_23_Template, 22, 12, \"tr\", 6);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(24, SolicitudAdminComponent_div_24_Template, 16, 14, \"div\", 7);\n        i0.ɵɵelementStart(25, \"div\", 2);\n        i0.ɵɵtemplate(26, SolicitudAdminComponent_button_26_Template, 3, 0, \"button\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"div\", 9)(28, \"div\", 10)(29, \"h6\");\n        i0.ɵɵtext(30, \"Documentos solicitados\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"table\")(32, \"thead\")(33, \"tr\")(34, \"th\");\n        i0.ɵɵtext(35, \"Nombre\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"th\");\n        i0.ɵɵtext(37, \"Descripci\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"th\");\n        i0.ɵɵtext(39, \"Instituci\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"th\");\n        i0.ɵɵtext(41, \"Nivel\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(42, \"tbody\");\n        i0.ɵɵtemplate(43, SolicitudAdminComponent_tr_43_Template, 9, 4, \"tr\", 6);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(44, \"div\", 11)(45, \"a\", 12);\n        i0.ɵɵtext(46, \"Cerrar\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"pagename\", ctx.pagename);\n        i0.ɵɵadvance(23);\n        i0.ɵɵproperty(\"ngForOf\", ctx.solicitudes);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.editMode);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.editMode);\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngForOf\", ctx.documentosSolicitados);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(6, _c0));\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLinkWithHref, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel, i5.NavbarComponent, i6.FilterComponent, i2.UpperCasePipe, i2.DatePipe],\n    styles: [\".container[_ngcontent-%COMP%]{padding-top:20px}\"]\n  });\n  return SolicitudAdminComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}